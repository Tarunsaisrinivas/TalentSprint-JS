<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculator</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
    integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="bg-stone-200">
  <div class="w-screen h-screen space-y-2 grid place-content-center">
    <div id="input" class="bg-stone-300">
      <input type="text" name="Inputbox" id="Inputbox"
        class="w-lg border-1 p-5 text-4xl bg-stone-500 text-white text-right" value="0">
    </div>
    <div class="grid grid-cols-4 gap-1 justify-center">
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">AC</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">Del</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">/</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">%</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">7</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">8</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">9</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">*</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">4</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">5</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">6</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">-</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">1</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">2</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">3</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">+</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">0</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">00</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">.</button>
      <button type="button" class="border-1 rounded-lg p-3 bg-sky-300 text-2xl font-bold">=</button>
    </div>
  </div>

  <script>
    const input = document.getElementById('Inputbox');
    const btns = document.querySelectorAll('button');
    const operators = ["+", "-", "*", "/", "%"];

    Array.from(btns).forEach((element) => {
      element.addEventListener('click', () => {
        let currentChar = element.innerHTML;
        let lastChar = input.value.slice(-1);

        if (currentChar === "AC") {
          input.value = "0";
        }
        else if (currentChar === "Del") {
          input.value = input.value.slice(0, -1) || "0";
        }
        else if (currentChar === "=") {
          try {
            input.value = eval(input.value).toString();
          } catch {
            input.value = "Error";
          }
        }
        else if (operators.includes(currentChar)) {
          if (operators.includes(lastChar)) {
            input.value = input.value.slice(0, -1) + currentChar;
          } else {
            input.value += currentChar;
          }
        }
        else if (currentChar === ".") {
          let parts = input.value.split(/[\+\-\*\/%]/);
          alert(parts);
          let lastPart = parts[parts.length - 1];
          if (!lastPart.includes(".")) {
            input.value += ".";
          }
        }
        else {
          if (input.value === "0") {
            input.value = currentChar; 
          } else {
            input.value += currentChar;
          }
        }
      });
    });
  </script>
</body>
</html>
